<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudeep Angamgari - Portfolio</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #FFFFFF; 
            color: #191919; 
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .section-title {
            font-size: 1.75rem; 
            font-weight: 600; 
            margin-bottom: 2rem; 
            text-align: left; 
            color: #191919;
            letter-spacing: -0.02em;
        }
        .card {
            background-color: #FFFFFF; 
            border-radius: 3px; 
            padding: 1.5rem; 
            transition: background-color 0.2s ease;
            border: 1px solid #E8E8E8; 
            margin-bottom: 1.5rem; 
        }
        .card:hover {
            background-color: #F7F7F7; 
        }
        .tag {
            background-color: #ECECEC; 
            color: #5A5A5A; 
            padding: 0.25rem 0.6rem;
            border-radius: 3px; 
            font-size: 0.75rem; 
            margin-right: 0.5rem;
            margin-bottom: 0.5rem;
            display: inline-block;
            font-weight: 500;
            transition: background-color 0.2s ease;
        }
        .tag:hover {
            background-color: #E0E0E0;
        }

        .scroll-animate {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }
        .scroll-animate.is-visible {
            opacity: 1;
            transform: translateY(0);
        }

        nav {
            background-color: rgba(255, 255, 255, 0.85); 
            backdrop-filter: blur(8px);
            border-bottom: 1px solid #E8E8E8; 
            box-shadow: none;
        }
        .nav-link {
            color: #5A5A5A; 
            font-weight: 500;
            font-size: 0.875rem; 
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            transition: color 0.2s ease, background-color 0.2s ease;
        }
        .nav-link:hover {
            color: #191919;
            background-color: #F0F0F0; 
        }
        .nav-link::after { 
            display: none;
        }
        
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-track {
            background: transparent; 
        }
        ::-webkit-scrollbar-thumb {
            background: #D1D1D1; 
            border-radius: 3px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #BBBBBB;
        }

        .btn {
            display: inline-flex; 
            align-items: center;
            justify-content: center;
            font-weight: 500;
            padding: 0.5rem 1rem; 
            border-radius: 3px; 
            transition: background-color 0.2s ease, box-shadow 0.2s ease, color 0.2s ease;
            text-transform: none; 
            letter-spacing: normal;
            font-size: 0.875rem; 
            border: 1px solid transparent;
            box-shadow: none;
        }
        .btn-primary {
            background-color: #2E6FD0; 
            color: #FFFFFF;
        }
        .btn-primary:hover {
            background-color: #1D5ABF; 
        }
        .btn-secondary {
            background-color: #F0F0F0; 
            color: #191919;
            border: 1px solid #E0E0E0;
        }
        .btn-secondary:hover {
            background-color: #E6E6E6;
        }
        .btn-outline { 
            background-color: transparent;
            color: #5A5A5A;
            border: 1px solid #D1D1D1;
        }
        .btn-outline:hover {
            background-color: #F7F7F7;
            color: #191919;
            border-color: #C0C0C0;
        }

        h1, h2, h3, h4, h5, h6 {
            color: #191919;
            font-weight: 600; 
            letter-spacing: -0.015em;
        }
        #typed-tagline { 
            font-size: 1.25rem; 
            color: #5A5A5A; 
            font-weight: 400; 
            display: block; 
            min-height: 1.5em; 
        } 
        
        .experience-title, .project-title, .skill-title, .education-title {
            font-size: 1.25rem; 
            font-weight: 600;
            color: #191919;
            margin-bottom: 0.25rem;
        }
        .company-date-text {
            font-size: 0.875rem; 
            color: #787878; 
            margin-bottom: 0.75rem;
        }
        ul {
            list-style: disc;
            padding-left: 1.25rem; 
            font-size: 0.9375rem; 
            line-height: 1.6;
            color: #333333; 
        }
        li {
            margin-bottom: 0.5rem;
        }
        p { 
            font-size: 0.9375rem; 
            line-height: 1.6;
            color: #333333;
        }
        .section-description { 
             font-size: 1rem; 
             color: #333333;
             line-height: 1.7;
        }

        #mobile-menu {
            z-index: 45; 
            background-color: rgba(255, 255, 255, 0.95); 
            backdrop-filter: blur(8px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
        }
        #mobile-menu a {
            color: #333333;
        }
        #mobile-menu a:hover {
            background-color: #F0F0F0;
            color: #191919;
        }

        /* Chatbot Styles */
        #chat-icon {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background-color: #2E6FD0; /* Notion blue */
            color: white;
            width: 3.5rem; /* 56px */
            height: 3.5rem; /* 56px */
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
            transition: transform 0.2s ease-out;
        }
        #chat-icon:hover {
            transform: scale(1.1);
        }
        #chat-window {
            position: fixed;
            bottom: 6.5rem; /* Above chat icon */
            right: 2rem;
            width: 90%;
            max-width: 370px;
            height: 70vh;
            max-height: 500px;
            background-color: #FFFFFF;
            border-radius: 8px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.15);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            z-index: 999;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
            transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease;
        }
        #chat-window.open {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }
        #chat-header {
            background-color: #F7F7F7;
            padding: 0.75rem 1rem;
            border-bottom: 1px solid #E8E8E8;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        #chat-header h3 {
            font-weight: 600;
            color: #191919;
            font-size: 0.9375rem; /* 15px */
        }
        #close-chat-btn {
            background: none;
            border: none;
            font-size: 1.25rem;
            color: #787878;
            cursor: pointer;
            padding: 0.25rem;
        }
        #chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .chat-message {
            padding: 0.6rem 0.9rem;
            border-radius: 6px;
            max-width: 85%;
            word-wrap: break-word;
            font-size: 0.875rem; /* 14px */
            line-height: 1.5;
        }
        .user-message {
            background-color: #2E6FD0;
            color: white;
            align-self: flex-end;
            border-bottom-right-radius: 0;
        }
        .bot-message {
            background-color: #F0F0F0;
            color: #191919;
            align-self: flex-start;
            border-bottom-left-radius: 0;
        }
         .bot-message strong { /* Make bold text stand out more */
            font-weight: 600;
            color: #191919;
        }
        .bot-message ul {
            margin-top: 0.5rem;
            margin-bottom: 0.25rem;
            padding-left: 1rem; /* Indent lists within bot message */
        }
        .bot-message li {
            margin-bottom: 0.25rem;
        }

        #chat-input-area {
            display: flex;
            padding: 0.75rem;
            border-top: 1px solid #E8E8E8;
            background-color: #FFFFFF;
        }
        #chat-input {
            flex-grow: 1;
            border: 1px solid #D1D1D1;
            border-radius: 3px;
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
            margin-right: 0.5rem;
            outline: none;
        }
        #chat-input:focus {
            border-color: #2E6FD0;
            box-shadow: 0 0 0 2px rgba(46, 111, 208, 0.2);
        }
        #send-chat-btn {
            background-color: #2E6FD0;
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 3px;
            font-weight: 500;
            cursor: pointer;
            font-size: 0.875rem;
        }
        #send-chat-btn:hover {
            background-color: #1D5ABF;
        }
        .loading-dots span {
            display: inline-block;
            width: 6px;
            height: 6px;
            background-color: #5A5A5A;
            border-radius: 50%;
            margin: 0 1px;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .loading-dots span:nth-child(1) { animation-delay: -0.32s; }
        .loading-dots span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }

    </style>
</head>
<body class="antialiased">

    <nav>
        <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16"> 
                <div class="flex items-center">
                    <a href="#hero" class="flex items-center">
                        <img src="notion image .png" alt="Sudeep Angamgari Logo" class="h-8 w-8 object-cover rounded-md">
                    </a>
                </div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-2"> 
                        <a href="#about" class="nav-link">About</a>
                        <a href="#experience" class="nav-link">Experience</a>
                        <a href="#projects" class="nav-link">Projects</a>
                        <a href="#skills" class="nav-link">Skills</a>
                        <a href="#education" class="nav-link">Education</a>
                        <a href="#contact" class="nav-link">Contact</a>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button type="button" id="mobile-menu-button" class="bg-gray-100 inline-flex items-center justify-center p-2 rounded-md text-gray-600 hover:text-black hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-gray-500" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                        </svg>
                        <svg class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
        <div id="mobile-menu" 
             class="md:hidden fixed inset-x-0 top-16 transition-all duration-300 ease-in-out opacity-0 invisible transform -translate-y-6 pointer-events-none">
            <div class="px-2 pt-2 pb-4 space-y-1 sm:px-3 border-t border-gray-200">
                <a href="#about" class="nav-link block px-3 py-2 text-base">About</a>
                <a href="#experience" class="nav-link block px-3 py-2 text-base">Experience</a>
                <a href="#projects" class="nav-link block px-3 py-2 text-base">Projects</a>
                <a href="#skills" class="nav-link block px-3 py-2 text-base">Skills</a>
                <a href="#education" class="nav-link block px-3 py-2 text-base">Education</a>
                <a href="#contact" class="nav-link block px-3 py-2 text-base">Contact</a>
            </div>
        </div>
    </nav>

    <section id="hero" class="min-h-[calc(100vh-4rem)] flex items-center justify-center text-center px-4 pt-16 sm:pt-0">
        <div class="content-z scroll-animate max-w-2xl mx-auto">
            <h1 class="text-4xl md:text-5xl font-semibold text-gray-900 mb-3">
                Sudeep Angamgari
            </h1>
            <p id="typed-tagline" class="text-lg md:text-xl text-gray-600 mb-10"></p>
            <div class="relative mt-2 space-x-3 sm:space-x-4">
                <a href="https://linkedin.com/in/sudeepangamgari/" target="_blank" rel="noopener noreferrer" class="btn btn-secondary">
                    LinkedIn
                </a>
                <a href="https://github.com/sudeepreddyyy" target="_blank" rel="noopener noreferrer" class="btn btn-secondary"> 
                    GitHub 
                </a>
                 <a href="#contact" class="btn btn-primary">
                    Contact Me
                </a>
            </div>
        </div>
    </section>

    <main id="portfolio-content" class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16">

        <section id="about" class="mb-16 scroll-animate">
            <h2 class="section-title">About Me</h2>
            <p class="section-description">
                A dedicated and innovative Data Engineer, I hold a Master's in Computer Information Technology from Purdue University. My expertise lies in crafting robust, scalable data pipelines and harnessing real-time data with a focus on AWS cloud technologies. I thrive on transforming complex datasets into strategic assets, driving business intelligence and operational excellence through Python, SQL, Big Data frameworks, and applied Machine Learning.
            </p>
        </section>

        <section id="experience" class="mb-16">
            <h2 class="section-title scroll-animate">Professional Experience</h2>
            <div class="space-y-6"> 
                <div class="card scroll-animate" style="transition-delay: 0.1s;">
                    <h3 class="experience-title">Data Analytical Engineer</h3>
                    <p class="company-date-text">Purdue University, United States | Jan. 2024 - Present</p>
                    <ul>
                        <li>Built cloud-native ETL pipelines using Python, AWS S3, Lambda, Postgres, Glue and DynamoDB to automate the ingestion of student records, with a strong focus on scalability, reliability, and data integrity.</li>
                        <li>Built a Python-based analytics system with a modular design, allowing different parts of the university to securely share and access data through both GraphQL and REST APIs.</li>
                        <li>Implemented real-time anomaly detection using AWS Lambda and SNS, significantly improving responsiveness and reducing incident detection time by over half.</li>
                        <li>Collaborated closely with academic departments, IT teams, and administrative units to define requirements, validate data flows, and ensure analytics solutions aligned with institutional goals.</li>
                    </ul>
                </div>
                <div class="card scroll-animate" style="transition-delay: 0.2s;">
                    <h3 class="experience-title">Data Engineer</h3>
                    <p class="company-date-text">JLP Partnership, India | Mar. 2021 - Dec. 2022</p>
                    <ul>
                        <li>Designed and deployed scalable ETL pipelines using AWS Kinesis, Lambda, Redshift, S3, and DynamoDB to process millions of daily sales records, enabling timely insights into store and product performance.</li>
                        <li>Integrated Apache Kafka for reliable ingestion of user activity logs, enabling scalable batch processing across distributed data pipelines.</li>
                        <li>Developed and containerized secure, high-performance Flask-based REST APIs to expose backend inventory data, implementing JWT authentication and rate limiting.</li>
                        <li>Built Power BI dashboards using DAX for dynamic visualization across operations and marketing; wrote complex SQL queries to automate manual reporting workflows.</li>
                        <li>Implemented AWS CloudWatch and SNS/SQS for real-time monitoring and asynchronous messaging across microservices.</li>
                        <li>Applied regression-based ML models to forecast short-term product demand using historical sales data; results fed into dashboards, improving marketing campaign planning accuracy.</li>
                        <li>Followed agile and test-driven development (TDD) principles, integrating CI/CD pipelines to maintain deployment efficiency and reliability.</li>
                    </ul>
                </div>
                <div class="card scroll-animate" style="transition-delay: 0.3s;">
                    <h3 class="experience-title">Data Analyst</h3>
                    <p class="company-date-text">BIS Pvt Ltd, India | Jun. 2020 - Feb. 2021</p>
                    <ul>
                        <li>Developed ETL pipelines with Python and SQL to process advertising data, ensuring data quality through validation checks.</li>
                        <li>Optimized Snowflake data warehouse schemas and implemented appropriate data modeling techniques.</li>
                        <li>Assisted in migrating on-premise databases to cloud infrastructure (AWS S3/Redshift), improving data accessibility.</li>
                        <li>Created interactive dashboards using Tableau to visualize ad performance metrics such as spend, CTR, and user engagement, enabling faster decision-making for marketing teams.</li>
                        <li>Collaborated with analysts to understand data requirements and implement appropriate data transformation processes.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="projects" class="mb-16">
            <h2 class="section-title scroll-animate">My Projects</h2>
            <div class="grid md:grid-cols-2 gap-6"> 
                <div class="card scroll-animate project-card" style="transition-delay: 0.1s;">
                    <h3 class="project-title">Real-Time Stock Market Data Pipeline using Kafka and AWS</h3>
                    <p class="project-description text-sm text-gray-600 mb-3">Constructed a real-time stock data pipeline processing 500K+ daily transactions, reducing data latency by 30% and query execution time by 25% through efficient ETL workflows.</p>
                    <div class="flex flex-wrap project-tags">
                        <span class="tag">Apache Kafka</span><span class="tag">AWS (Glue, Redshift, S3)</span><span class="tag">Python</span>
                    </div>
                </div>
                <div class="card scroll-animate project-card" style="transition-delay: 0.15s;">
                    <h3 class="project-title">Voice-Controlled UAV System (AirSim, ChatGPT, YOLOv8)</h3>
                    <p class="project-description text-sm text-gray-600 mb-3">Engineered an autonomous UAV system leveraging prompt-engineered LLMs for NLP and Image Processing (YOLOv8) for real-time crop detection, achieving a 50% reduction in NLP-to-actuation latency and validating system efficacy in simulated precision agriculture scenarios.</p>
                    <div class="flex flex-wrap project-tags">
                        <span class="tag">Python</span><span class="tag">LLM</span><span class="tag">YOLOv8</span><span class="tag">AirSim</span>
                    </div>
                </div>
                <div class="card scroll-animate project-card" style="transition-delay: 0.2s;"> 
                    <h3 class="project-title">NLP-Powered Book Recommendation System</h3>
                    <p class="project-description text-sm text-gray-600 mb-3">Designed a personalized recommendation engine using an LLM-powered chatbot and Neo4j to model user preferences and relationship patterns for context-aware suggestions.</p>
                    <div class="flex flex-wrap project-tags">
                        <span class="tag">Streamlit</span><span class="tag">Python</span><span class="tag">Llama API</span><span class="tag">Neo4j</span>
                    </div>
                </div>
                <div class="card scroll-animate project-card" style="transition-delay: 0.25s;">
                    <h3 class="project-title">RAG-Based QA System to Enable Natural Language Search</h3>
                    <p class="project-description text-sm text-gray-600 mb-3">Developed a Retrieval-Augmented Generation (RAG) system using FAISS, OpenAI, and AWS, enabling natural language queries over internal documents with 88% answer accuracy.</p>
                    <div class="flex flex-wrap project-tags">
                        <span class="tag">Python</span><span class="tag">OpenAI API</span><span class="tag">FAISS</span><span class="tag">LangChain</span><span class="tag">AWS</span><span class="tag">Postgres</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="skills" class="mb-16">
            <h2 class="section-title scroll-animate">Technical Skills</h2>
            <div class="space-y-4">
                <div class="scroll-animate skill-block" style="transition-delay: 0.1s;">
                    <h4 class="skill-title">Cloud & Big Data</h4>
                    <p class="skill-description text-gray-700 text-sm">AWS, Snowflake, DynamoDB, Apache Kafka, Spark (PySpark)</p>
                </div>
                 <div class="scroll-animate skill-block" style="transition-delay: 0.15s;">
                    <h4 class="skill-title">ETL</h4>
                    <p class="skill-description text-gray-700 text-sm">Python (Pandas, Flask), SQL (PostgreSQL, MySQL), NOSQL (DynamoDB, MongoDB), Neo4j, Apache Airflow, GraphQL, REST</p>
                </div>
                <div class="scroll-animate skill-block" style="transition-delay: 0.2s;">
                    <h4 class="skill-title">Visualization</h4>
                    <p class="skill-description text-gray-700 text-sm">Power BI, Tableau, Streamlit, HTML, CSS, JavaScript</p>
                </div>
                <div class="scroll-animate skill-block" style="transition-delay: 0.25s;">
                    <h4 class="skill-title">DevOps</h4>
                    <p class="skill-description text-gray-700 text-sm">Git, GitHub, Docker, CI/CD</p>
                </div>
                <div class="scroll-animate skill-block" style="transition-delay: 0.3s;">
                    <h4 class="skill-title">Tools</h4>
                    <p class="skill-description text-gray-700 text-sm">Jupyter, VSCode, JIRA</p>
                </div>
                <div class="scroll-animate skill-block" style="transition-delay: 0.35s;">
                    <h4 class="skill-title">ML/AI</h4>
                    <p class="skill-description text-gray-700 text-sm">LLMS, NLP, YOLOv8, XGBoost, LDA, Prompt Engineering, Tensorflow</p>
                </div>
            </div>
        </section>

        <section id="education" class="mb-16 scroll-animate">
            <h2 class="section-title">Education</h2>
            <div class="card"> 
                <h3 class="education-title">Master of Science in Computer Information Technology</h3>
                <p class="company-date-text">Purdue University | Jan. 2023 - Dec. 2024</p>
            </div>
            <div class="card mt-4"> 
                <h3 class="education-title">Bachelors of Technology in Information Technology</h3>
                <p class="company-date-text">JNTUH | Aug. 2016 - May 2020</p>
            </div>
        </section>

        <section id="contact" class="scroll-animate"> 
            <h2 class="section-title">Get In Touch</h2>
            <p class="section-description mb-6">
                I'm actively seeking new opportunities and collaborations. If you have a project in mind or just want to connect, feel free to reach out.
            </p>
            <div class="mb-6">
                 <a href="mailto:sudeepangamgari@gmail.com" class="btn btn-primary">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                    </svg>
                    Send an Email
                </a>
            </div>
            <p class="text-gray-700 text-sm mb-1">sudeepangamgari@gmail.com</p>
            <p class="text-gray-700 text-sm mb-8">(840) 234-4965</p>
            
             <div class="flex space-x-6">
                <a href="https://linkedin.com/in/sudeepangamgari/" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-800 transition-colors duration-300">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z" clip-rule="evenodd"/></svg>
                </a>
                <a href="https://github.com/sudeepreddyyy" target="_blank" rel="noopener noreferrer" class="text-gray-500 hover:text-gray-800 transition-colors duration-300">
                    <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 0C5.373 0 0 5.373 0 12c0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576C20.565 21.799 24 17.301 24 12c0-6.627-5.373-12-12-12z" clip-rule="evenodd"/></svg>
                </a>
            </div>
        </section>
    </main> 

    <!-- Chatbot HTML -->
    <div id="chat-icon" title="Ask me about my portfolio!">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-7 w-7" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M8 12h.01M12 12h.01M16 12h.01M21 12c0 5.523-4.477 10-10 10S1 17.523 1 12 5.477 2 11 2s10 4.477 10 10z" />
        </svg>
    </div>

    <div id="chat-window" class=""> <!-- Initially hidden, 'open' class will be added by JS -->
        <div id="chat-header">
            <h3>Ask Sudeep's AI Assistant</h3>
            <button id="close-chat-btn" title="Close chat">&times;</button>
        </div>
        <div id="chat-messages">
            <!-- Chat messages will be appended here -->
            <div class="chat-message bot-message">Hi there! Ask me anything about Sudeep's experience, projects, or skills based on this portfolio.</div>
        </div>
        <div id="chat-input-area">
            <input type="text" id="chat-input" placeholder="Type your question...">
            <button id="send-chat-btn">Send</button>
        </div>
    </div>
    <!-- End Chatbot HTML -->


    <footer class="text-center py-12 text-gray-500 text-xs border-t border-gray-200">
        <p>&copy; <span id="currentYear"></span> Sudeep Angamgari. All Rights Reserved.</p>
        
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>

    <script>
        let portfolioContext = ''; // To store extracted resume text

        // --- Function to extract text content from the portfolio ---
        function extractPortfolioContext() {
            const contentElement = document.getElementById('portfolio-content');
            if (contentElement) {
                // Simple text extraction, could be refined to be more structured
                let text = `Sudeep Angamgari's Portfolio:\n`;
                const sections = contentElement.querySelectorAll('section');
                sections.forEach(section => {
                    const title = section.querySelector('h2.section-title');
                    if (title) text += `\n## ${title.textContent.trim()}\n`;
                    
                    section.querySelectorAll('h3, h4, p, li').forEach(el => {
                        text += el.textContent.trim() + '\n';
                    });
                });
                return text;
            }
            return "Sudeep Angamgari's portfolio details are not fully available to me right now, but I'll do my best to answer.";
        }


        // --- Gemini API Call Function for Chatbot ---
        async function getChatbotResponse(userQuestion) {
            const chatMessages = document.getElementById('chat-messages');
            
            // Add user message to chat
            const userMessageDiv = document.createElement('div');
            userMessageDiv.classList.add('chat-message', 'user-message');
            userMessageDiv.textContent = userQuestion;
            chatMessages.appendChild(userMessageDiv);

            // Show loading indicator (as a bot message)
            const loadingMessageDiv = document.createElement('div');
            loadingMessageDiv.classList.add('chat-message', 'bot-message');
            loadingMessageDiv.innerHTML = '<div class="loading-dots"><span></span><span></span><span></span></div>';
            chatMessages.appendChild(loadingMessageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;


            const promptText = `You are Sudeep Angamgari's AI Portfolio Assistant. Based *only* on the following portfolio context, answer the user's question concisely and professionally. If the information isn't in the context, say you don't have specific details on that topic from the portfolio. Do not make up information.

Context about Sudeep Angamgari:
---
${portfolioContext}
---

User's Question: "${userQuestion}"

Answer:`;

            let chatHistory = [{ role: "user", parts: [{ text: promptText }] }];
            const payload = { contents: chatHistory };
            const apiKey = ""; // API key will be injected by the environment
            const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

            try {
                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });
                
                chatMessages.removeChild(loadingMessageDiv); // Remove loading indicator

                if (!response.ok) {
                    const errorData = await response.json();
                    console.error('Gemini API Error:', errorData);
                    appendBotMessage(`Sorry, I encountered an error: ${response.status}. Please try again.`);
                    return;
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 &&
                    result.candidates[0].content && result.candidates[0].content.parts &&
                    result.candidates[0].content.parts.length > 0) {
                    const text = result.candidates[0].content.parts[0].text;
                    appendBotMessage(text);
                } else {
                    appendBotMessage("I received an unexpected response. Please try rephrasing your question.");
                }
            } catch (error) {
                console.error('Error calling Gemini API:', error);
                if (loadingMessageDiv.parentNode === chatMessages) { // Check if still there
                     chatMessages.removeChild(loadingMessageDiv);
                }
                appendBotMessage(`An error occurred: ${error.message}. Please check the console for details.`);
            }
        }

        function appendBotMessage(text) {
            const chatMessages = document.getElementById('chat-messages');
            const botMessageDiv = document.createElement('div');
            botMessageDiv.classList.add('chat-message', 'bot-message');
            
            // Basic Markdown to HTML
            let htmlText = text.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>'); 
            htmlText = htmlText.replace(/^\* (.*$)/gm, '<li>$1</li>'); 
            // Ensure list items are wrapped in ul if any li are present
             if (htmlText.includes('<li>') && !htmlText.startsWith('<ul>')) {
                htmlText = '<ul>' + htmlText.replace(/<\/li>(?![\s\S]*<\/li>)/, '</li></ul>'); // Add ul only if li exists and wrap properly
            }
            htmlText = htmlText.replace(/\n/g, '<br>'); // Convert newlines to <br> for paragraph breaks

            botMessageDiv.innerHTML = htmlText;
            chatMessages.appendChild(botMessageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight; // Auto-scroll
        }


        // --- Chatbot UI Logic ---
        const chatIcon = document.getElementById('chat-icon');
        const chatWindow = document.getElementById('chat-window');
        const closeChatBtn = document.getElementById('close-chat-btn');
        const chatInput = document.getElementById('chat-input');
        const sendChatBtn = document.getElementById('send-chat-btn');

        chatIcon.addEventListener('click', () => {
            chatWindow.classList.toggle('open');
            if (chatWindow.classList.contains('open') && !portfolioContext) { // Extract context if opening for first time
                portfolioContext = extractPortfolioContext();
                 console.log("Portfolio Context Extracted:", portfolioContext.substring(0, 500) + "..."); // Log first 500 chars for verification
            }
        });

        closeChatBtn.addEventListener('click', () => {
            chatWindow.classList.remove('open');
        });

        function handleSendMessage() {
            const question = chatInput.value.trim();
            if (question) {
                getChatbotResponse(question);
                chatInput.value = '';
            }
        }

        sendChatBtn.addEventListener('click', handleSendMessage);
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                handleSendMessage();
            }
        });


        // Mobile menu toggle
        const mobileMenuButton = document.getElementById('mobile-menu-button');
        const mobileMenu = document.getElementById('mobile-menu');
        const mobileNavLinks = document.querySelectorAll('#mobile-menu a[href^="#"]'); 

        mobileMenuButton.addEventListener('click', () => {
            const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
            
            mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
            
            mobileMenu.classList.toggle('opacity-0', isExpanded);
            mobileMenu.classList.toggle('invisible', isExpanded);
            mobileMenu.classList.toggle('-translate-y-6', isExpanded); 
            mobileMenu.classList.toggle('pointer-events-none', isExpanded);

            mobileMenu.classList.toggle('opacity-100', !isExpanded);
            mobileMenu.classList.toggle('visible', !isExpanded);
            mobileMenu.classList.toggle('translate-y-0', !isExpanded); 
            mobileMenu.classList.toggle('pointer-events-auto', !isExpanded);

            mobileMenuButton.querySelectorAll('svg').forEach(svg => svg.classList.toggle('hidden'));

            if (!isExpanded && window.innerWidth < 768) { 
                document.body.classList.add('overflow-hidden');
            } else { 
                document.body.classList.remove('overflow-hidden');
            }
        });

        mobileNavLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (mobileMenu.classList.contains('visible')) {
                    mobileMenuButton.setAttribute('aria-expanded', 'false');
                    
                    mobileMenu.classList.add('opacity-0', 'invisible', '-translate-y-6', 'pointer-events-none');
                    mobileMenu.classList.remove('opacity-100', 'visible', 'translate-y-0', 'pointer-events-auto');
                    
                    mobileMenuButton.querySelectorAll('svg')[0].classList.remove('hidden'); 
                    mobileMenuButton.querySelectorAll('svg')[1].classList.add('hidden');    
                    
                    document.body.classList.remove('overflow-hidden');
                }
            });
        });

        // Typed.js initialization
        if (document.getElementById('typed-tagline')) {
            new Typed('#typed-tagline', {
                strings: ['Data Engineer', 'Cloud Architect', 'AWS Specialist', 'Problem Solver', 'Building Scalable Solutions'],
                typeSpeed: 50, 
                backSpeed: 25,
                backDelay: 1500,
                loop: true,
                smartBackspace: true,
                showCursor: false, 
            });
        }

        // Scroll animations
        const scrollElements = document.querySelectorAll('.scroll-animate');
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                } 
            });
        }, { threshold: 0.1 }); 

        scrollElements.forEach(el => {
            observer.observe(el);
        });

        // Set current year in footer
        document.getElementById('currentYear').textContent = new Date().getFullYear();

        // Smooth scroll
        document.querySelectorAll('nav a[href^="#"], #mobile-menu a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                if (this.getAttribute('href').startsWith('#')) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        const navbarHeight = document.querySelector('nav').offsetHeight;
                        const elementPosition = targetElement.getBoundingClientRect().top;
                        const offsetPosition = elementPosition + window.pageYOffset - navbarHeight;

                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });
                    }
                }
            });
        });

        // Extract portfolio context on page load (or when chat is first opened)
        // Moved the initial call to when the chat icon is clicked and window opens for the first time.
        // portfolioContext = extractPortfolioContext(); 
        // console.log("Portfolio Context Extracted:", portfolioContext.substring(0, 500) + "..."); // Log first 500 chars for verification

    </script>
</body>
</html>
